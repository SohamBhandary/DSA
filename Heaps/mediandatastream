class MedianFinder {
    private PriorityQueue<Integer>max= new PriorityQueue<>((a,b)->b-a);
    private PriorityQueue<Integer>min= new PriorityQueue<>();    
    public void addNum(int num) {
        max.offer(num);
        min.offer(max.poll());
        if(max.size()<min.size()){
            max.offer(min.poll());
        }
    }
    
    public double findMedian() {
       return max.size()>min.size()?max.peek():(max.peek()+min.peek())*0.5;
        
    }
}

